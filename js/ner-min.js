function populateCharts(n,e){$(".articles").empty();var t="json/"+n+".json",a=!0;""!=e&&(a=!1),$.getJSON(t,function(t){var i=0,o=0,l=0,r=0,d=0,u=0,c=0,s=0,f=0,p=0,h=[],y=[],m=[],v=[];$.each(t,function(t,w){if(a||t===e){var O=w.Summary,g="";if(null!=O&&"undefined"!=typeof O){var N=Object.keys(O)[0];g='<div class="article"><h3><a href="#" onclick="populateCharts(\''+n+"', '"+t+"');\">"+N+'</a></h3><p class="summary">'+O[N]+"</p></div>"}var b=w.NER,A=b.ORGANIZATION,E=b.PERSON,M=b.LOCATION,S=b.MISC,T=b.DURATION,x=b.SET,C=b.TIME,D=b.ORDINAL,I=b.NUMBER,L=b.DATE;null!==A&&"undefined"!=typeof A&&$.each(A,function(n,e){var t=!0;i+=e,$.each(h,function(a,i){return i[0]==n?(i[1]=i[1]+e,t=!1,!1):void 0}),t&&h.push([n,e])}),null!==E&&"undefined"!=typeof E&&$.each(E,function(n,e){var t=!0;o+=e,$.each(m,function(a,i){return i[0]==n?(i[1]=i[1]+e,t=!1,!1):void 0}),t&&m.push([n,e])}),null!==M&&"undefined"!=typeof M&&$.each(M,function(n,e){var t=!0;l+=e,$.each(y,function(a,i){return i[0]==n?(i[1]=i[1]+e,t=!1,!1):void 0}),t&&y.push([n,e])}),null!==S&&"undefined"!=typeof S&&$.each(S,function(n,e){var t=!0;r+=e,$.each(v,function(a,i){return i[0]==n?(i[1]=i[1]+e,t=!1,!1):void 0}),t&&v.push([n,e])}),null!==D&&"undefined"!=typeof D&&$.each(D,function(n,e){s+=e}),null!==T&&"undefined"!=typeof T&&$.each(T,function(n,e){d+=e}),null!==x&&"undefined"!=typeof x&&$.each(x,function(n,e){u+=e}),null!==C&&"undefined"!=typeof C&&$.each(C,function(n,e){c+=e}),null!==L&&"undefined"!=typeof L&&$.each(L,function(n,e){p+=e}),null!==I&&"undefined"!=typeof I&&$.each(I,function(n,e){f+=e})}$(".articles").append(g)}),$("#container").highcharts({chart:{type:"column"},title:{text:"NER for "+n},subtitle:{text:"Click the columns to view name entities. Source: http://www.nation.co.ke"},xAxis:{type:"category"},yAxis:{title:{text:"Total frequency"}},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"{point.y}"}}},tooltip:{headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> mentions<br/>'},series:[{name:"NE",colorByPoint:!0,data:[{name:"Organization",y:i,drilldown:"Organization"},{name:"Location",y:l,drilldown:"Location"},{name:"Person",y:o,drilldown:"Person"},{name:"Misc",y:r,drilldown:"Misc"},{name:"Ordinal",y:s,drilldown:"null"},{name:"Duration",y:d,drilldown:"null"},{name:"Number",y:f,drilldown:"null"},{name:"Date",y:p,drilldown:"null"},{name:"Set",y:u,drilldown:"null"},{name:"Time",y:c,drilldown:"null"}]}],drilldown:{series:[{name:"Organization",id:"Organization",data:h},{name:"Location",id:"Location",data:y},{name:"Person",id:"Person",data:m},{name:"Misc",id:"Misc",data:v}]}})})}$(function(){var n=new Date,e=n.getMonth()+1,t=n.getDate(),a=n.getFullYear(),i=((""+t).length<2?"0":"")+t+"-"+((""+e).length<2?"0":"")+e+"-"+a;populateCharts(i,""),$("#datepicker").datepicker({onSelect:function(n){var e=n,t=e.split("/"),a=t[1]+"-"+t[0]+"-"+t[2];populateCharts(a,"")}})});